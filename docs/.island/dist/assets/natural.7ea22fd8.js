function u(i,_,n){i._context.bezierCurveTo(i._x1+i._k*(i._x2-i._x0),i._y1+i._k*(i._y2-i._y0),i._x2+i._k*(i._x1-_),i._y2+i._k*(i._y1-n),i._x2,i._y2)}function l(i,_){this._context=i,this._k=(1-_)/6}l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:u(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,_){switch(i=+i,_=+_,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,_):this._context.moveTo(i,_);break;case 1:this._point=2,this._x1=i,this._y1=_;break;case 2:this._point=3;default:u(this,i,_);break}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=_}};(function i(_){function n(s){return new l(s,_)}return n.tension=function(s){return i(+s)},n})(0);function y(i,_,n){var s=i._x1,e=i._y1,t=i._x2,o=i._y2;if(i._l01_a>1e-12){var h=2*i._l01_2a+3*i._l01_a*i._l12_a+i._l12_2a,r=3*i._l01_a*(i._l01_a+i._l12_a);s=(s*h-i._x0*i._l12_2a+i._x2*i._l01_2a)/r,e=(e*h-i._y0*i._l12_2a+i._y2*i._l01_2a)/r}if(i._l23_a>1e-12){var c=2*i._l23_2a+3*i._l23_a*i._l12_a+i._l12_2a,a=3*i._l23_a*(i._l23_a+i._l12_a);t=(t*c+i._x1*i._l23_2a-_*i._l12_2a)/a,o=(o*c+i._y1*i._l23_2a-n*i._l12_2a)/a}i._context.bezierCurveTo(s,e,t,o,i._x2,i._y2)}function x(i,_){this._context=i,this._alpha=_}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,_){if(i=+i,_=+_,this._point){var n=this._x2-i,s=this._y2-_;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,_):this._context.moveTo(i,_);break;case 1:this._point=2;break;case 2:this._point=3;default:y(this,i,_);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=_}};const k=function i(_){function n(s){return _?new x(s,_):new l(s,0)}return n.alpha=function(s){return i(+s)},n}(.5);function p(i){this._context=i}p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var i=this._x,_=this._y,n=i.length;if(n)if(this._line?this._context.lineTo(i[0],_[0]):this._context.moveTo(i[0],_[0]),n===2)this._context.lineTo(i[1],_[1]);else for(var s=f(i),e=f(_),t=0,o=1;o<n;++t,++o)this._context.bezierCurveTo(s[0][t],e[0][t],s[1][t],e[1][t],i[o],_[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(i,_){this._x.push(+i),this._y.push(+_)}};function f(i){var _,n=i.length-1,s,e=new Array(n),t=new Array(n),o=new Array(n);for(e[0]=0,t[0]=2,o[0]=i[0]+2*i[1],_=1;_<n-1;++_)e[_]=1,t[_]=4,o[_]=4*i[_]+2*i[_+1];for(e[n-1]=2,t[n-1]=7,o[n-1]=8*i[n-1]+i[n],_=1;_<n;++_)s=e[_]/t[_-1],t[_]-=s,o[_]-=s*o[_-1];for(e[n-1]=o[n-1]/t[n-1],_=n-2;_>=0;--_)e[_]=(o[_]-e[_+1])/t[_];for(t[n-1]=(i[n]+e[n-1])/2,_=0;_<n-1;++_)t[_]=2*i[_+1]-e[_+1];return[e,t]}function v(i){return new p(i)}export{k as c,v as n};
