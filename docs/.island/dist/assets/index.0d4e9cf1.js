import{jsx as b}from"react/jsx-runtime";import{forwardRef as z,useImperativeHandle as C,useState as h,useRef as E,useEffect as H}from"react";import{l as p}from"./transform.3e3dfeca.js";import{c as B}from"./index.978ae265.js";import{s as K}from"./index.93441784.js";import{a as M,b as T}from"./axis.b2198668.js";import{s as g}from"./log.83f32a09.js";const W=K({base:`w-full
  h-3
  text-muted
  overflow-visible
  select-none`,defaultVariants:{vertical:!1},variants:{vertical:{true:"h-full w-3"}}}),$=100,j=0,G=5,P=5,U=z((v,y)=>{const{min:n=j,max:r=$,ticks:c=G,tickSize:a=P,vertical:t=!1,relatedRef:e,...o}=v;C(y,()=>s.current);const[l,f]=h(0),[i,d]=h(0),s=E(null);H(()=>{A()},[n,r,a,t,c,l,i,e]);const A=()=>{if(s.current===null)return;const x=s.current;if(e!=null&&e.current)f(e.current.clientWidth),d(e.current.clientHeight);else{const{height:N,width:R}=x.getBoundingClientRect();f(R),d(N)}g(x).selectAll("*").remove();const S=p().domain([n,r]).range([i,0]),w=M(S).ticks(c).tickSize(a),k=p().domain([n,r]).range([0,l]),I=T(k).ticks(c).tickSize(a),m=g(s.current);let u;t?u=m.append("g").classed("y-axis",!0).call(w):u=m.append("g").classed("x-axis",!0).call(I),t||u.attr("transform",`translate(0,${i})`),m.select(".domain").style("display","none")};return b("svg",{...o,ref:s,className:B(W({vertical:t}),o.className),style:{...o.style,width:t?20:l,height:t?i:20}})}),V=U;V.displayName="EchoUI.Axis";export{V as A};
