import { CodeBlock } from '../../src/components/CodeBlock.tsx'
import { Chip, Link } from '@nextui-org/react'
import { Github } from 'lucide-react'

# `useWaveform`

用该 Hook 可以获取音频文件的波形数据，并与 `Waveform` 组件配合使用，实现音频波形的可视化

<Link
  href="https://github.com/codeacme17/echo-ui/blob/main/packages/hooks/useWaveform.ts"
  target="_blank"
  size="sm"
  className="flex items-center"
>
  <Github className="w-4 h-4" />
  <span className="ml-2">查看源码</span>
</Link>

## 引入

<CodeBlock code={`import { useWaveform, type UseWaveformProps } form 'echo-ui'`} />

## 传参

- `UseWaveformProps`

  - **arrayBuffer**(必传): `ArrayBuffer`

    音频文件的 ArrayBuffer 数据

  - **channel**: `1 | 2`

    音频文件的声道数，默认为 `2`

  - **samples**: `number`

    音频文件的采样率，默认为 `1024`

## 返回值

- `Object`

  - **data**: `number[] | number[][]`

    波形数据，当入参 `channel` 为 `1` 时返回 `number[]`，为 `2` 时返回 `number[][]`

  - **error**: `boolean`

    在生成 Waveform 数据过程中是否发生错误

  - **errorMessage**: `string`

    错误信息
