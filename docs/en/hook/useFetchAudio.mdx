import { CodeBlock } from '../../src/components/CodeBlock.tsx'
import { Chip, Link } from '@nextui-org/react'
import { Github } from 'lucide-react'

# `useFetchAudio`

A Hook for fetching audio data, returns an object containing the request status and audio data.

<Link
  href="https://github.com/codeacme17/echo-ui/blob/main/packages/hooks/useFetchAudio.ts"
  target="_blank"
  size="sm"
  className="flex items-center"
>
  <Github className="w-4 h-4" />
  <span className="ml-2">View Source</span>
</Link>

## Import

<CodeBlock code={`import { useFetchAudio, type UseFetchAudioProps } form 'echo-ui'`} />

## Parameters

### `UseFetchAudioProps`

- **url** (required): `string`

  The URL to request, can be a relative or absolute URL.

- **requestOptions**: `RequestInit`

  The request configuration, refer to [MDN](https://developer.mozilla.org/en-US/docs/Web/API/fetch#options).

- **onSuccess**: `() => void`

  Callback function when the request is successful, when `audioBuffer` has been successfully decoded.

- **onError**: `() => void`

  Callback function when request error.

## Return Value

### `Object`

- **fetchAudio**: `() => Promise<void>`

  Method to request audio data. After calling, the request will be initiated.

- **audioBuffer**: [`AudioBuffer`](https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer)

  The audio data returned by the request.

- **pending**: `boolean`

  Indicates whether the request is pending.

- **fetched**: `boolean`

  Indicates whether the request has been completed.

- **error**: `boolean`

  Indicates whether there was an error in the request.

- **errorMessage**: `string`

  The error message in case of a request error.

- **response**: `Response`

  The complete response of the request.
